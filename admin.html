<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin – Vastaukset</title>
  <style>
    body { font-family: Arial; padding: 40px; background: #f5f5f5; }
    .card {
      background: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    h2 { margin-top: 0; }
  </style>
</head>
<body>

<h1>Kaikki RSVP-vastaukset</h1>
<div id="results"></div>

<script>
const baseUrl = "https://fa-kanteliset-chdhg2g0aub8f0gy.westeurope-01.azurewebsites.net/api/rsvp/";

// ⚠️ Lisää tänne kaikki familyId:t
const familyIds = [
  "KANTELINEN-05",
  "KANTELINEN-789",
  "AALTONEN-029",
"KOISTINEN-033",
"KOKKONEN-0458",
"OVASKA-059",
"JÄNTTI-067",
"KURISJÄRVI-077",
"SALIN-083",
"AALAS-094",
"HUR-101",
"PUSENIUS-1155",
"HEISKA-1289",
"KOSKIPALO-1341",
"KAITARANTA-1447",
"VAITTINEN-1555",
"AUVINEN-1618",
"MUSTONEN-1792",
"PULKKINEN-1814",
"VESTERINEN-1999",
"SYRJÄ-2013",
"LINDBLOM-2581",
"HELAKORPI-2291",
"YRJÖLÄ-2338",
"RAUTAVUORI-2491",
"GAZDAG-2580",
"OKSMAN-2695",
"HURSKAINEN-2766",
"SVENSSON-2818",
"TESTI-299",
"TESTI-288"
];

async function loadData() {
  const container = document.getElementById("results");

  for (const id of familyIds) {
    try {
      const res = await fetch(baseUrl + id);
      if (!res.ok) continue;

      const data = await res.json();

      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <h2>${data.displayName}</h2>
        <p><strong>Perjantai:</strong> ${data.friAttending ? "Kyllä" : "Ei"} (${data.friCount})</p>
        <p><strong>Lauantai:</strong> ${data.satAttending ? "Kyllä" : "Ei"} (${data.satCount})</p>
        <p><strong>Sunnuntai:</strong> ${data.sunAttending ? "Kyllä" : "Ei"} (${data.sunCount})</p>
        <p><strong>Majoitus:</strong> ${data.accommodation ? "Kyllä" : "Ei"}</p>
        <p><strong>Muistiinpanot:</strong> ${data.notes}</p>
        <p><strong>Maksuyhteenveto:</strong> ${data.paymentSummary}</p>
      `;

      container.appendChild(card);

    } catch (err) {
      console.log("Ei vastausta:", id);
    }
  }
}

loadData();
</script>

</body>
</html>